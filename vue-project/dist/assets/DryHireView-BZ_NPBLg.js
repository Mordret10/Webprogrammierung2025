import{B as m}from"./booking-C9mJr7Hn.js";import{_ as k,c as u,a as t,F as p,r as b,t as h,d as g,e as V,o as c,w as d,f as _,v as O,g as C}from"./index-BWLGvktJ.js";const N={components:{Booking:m},data(){return{JSON_Object:JSON.parse("[{}]"),checkboxesTicked:[],inputValues:[],sum:0,presetConfiguration:null}},mounted(){this.readJson(),this.setDefaultValues()},methods:{readJson(){fetch("/api/materialprices").then(s=>{if(!s.ok)throw new Error("HTTP error "+s.status);return s.json()}).then(s=>{this.JSON_Object=s}).catch(function(){this.dataError=!0})},setDefaultValues(){this.JSON_Object.forEach((s,e)=>{this.checkboxesTicked[e]=!1,this.inputValues[e]=0})},calcMaterialPrices(){this.sum=0,this.checkboxesTicked.forEach((s,e)=>{s&&(isNaN(this.inputValues[e])&&(this.inputValues[e]=0),this.sum+=parseInt(this.JSON_Object[e].pricePerDay)*parseInt(this.inputValues[e]))})},addConfigurationToOrder(){let s=!0;this.calcMaterialPrices(),this.presetConfiguration="[",this.checkboxesTicked.forEach((e,n)=>{e&&this.inputValues[n]!==0&&this.inputValues[n]!==null&&(s||(this.presetConfiguration+=","),this.presetConfiguration+="{"+this.JSON_Object[n].name+": "+this.inputValues[n]+"}",s=!1)}),this.presetConfiguration+="]"}}},T={class:"calc"},v=["onClick"],J=["for"],y=["onUpdate:modelValue","id"],P=["onUpdate:modelValue"],S={class:"booking"};function j(s,e,n,D,i,l){const f=V("booking");return c(),u(p,null,[e[4]||(e[4]=t("div",null,[t("h1",null,"Dry Hire"),t("p",null,"Katie is renting out audio equipment for dry hire purposes."),t("p",null,"You can calculate prices down below.")],-1)),t("div",T,[e[3]||(e[3]=t("h2",null,"Choose materials and calculate prices here",-1)),t("div",null,[t("ul",null,[(c(!0),u(p,null,b(i.JSON_Object,(o,r)=>(c(),u("li",{onClick:a=>s.JSON_Index=r},[t("label",{for:o.name},h(o.name)+" ("+h(i.JSON_Object[r].pricePerDay)+"€/d)",9,J),e[2]||(e[2]=t("br",null,null,-1)),d(t("input",{type:"checkbox","onUpdate:modelValue":a=>i.checkboxesTicked[r]=a,id:o.name},null,8,y),[[O,i.checkboxesTicked[r]]]),i.checkboxesTicked[r]?d((c(),u("input",{key:0,"onUpdate:modelValue":a=>i.inputValues[r]=a},null,8,P)),[[C,i.inputValues[r]]]):_("",!0)],8,v))),256))])]),t("div",null,[t("button",{onClick:e[0]||(e[0]=(...o)=>l.calcMaterialPrices&&l.calcMaterialPrices(...o))},"Calculate Material Prices"),t("button",{onClick:e[1]||(e[1]=(...o)=>l.addConfigurationToOrder&&l.addConfigurationToOrder(...o))},"Add current configuration to order"),t("p",null,"Your total is: "+h(i.sum)+"€",1)])]),t("div",S,[g(f,{bookingType:"dryhire",messagePreset:this.presetConfiguration},null,8,["messagePreset"])])],64)}const M=k(N,[["render",j]]);export{M as default};
